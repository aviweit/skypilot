num_nodes: 1

resources:
  memory: 2
  cpus: 1
  cloud: kubernetes

file_mounts:

  /datasets-storage:
    source: minio://sky-foo-dataset
    mode: MOUNT

# Typical use: pip install -r requirements.txt
# Invoked under the workdir (i.e., can use its files).
setup: |
  echo "Running setup."

# Typical use: make use of resources, such as running training.
# Invoked under the workdir (i.e., can use its files).
run: |
  echo "Hello, Foo, how are you?"
  conda env list

  # ensure sky/data contents are listed
  ls -ltr /datasets-storage
  # Write to private bucket in MOUNT mode should pass
  echo "hello" > /datasets-storage/hello.txt
